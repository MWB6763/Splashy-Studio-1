<style>
body {
    background: #004080;
    font-family: "Consolas";
    color: white;
    text-align: center;
}
#navBar {
    position: absolute;
    cursor: move;
    width: 100%;
    height: 30px;
    top: 0;
    left: 0;
    -webkit-app-region: drag;
    user-select: none;
    border-color: #00264d;
    border: 1px solid #00264d;
}
#togglers {
    display: block;
    height: 100%;
    width: 150px;
    float: right;
    -webkit-app-region: no-drag;
    font-weight: bold;
    text-align: center;
    color: #99ffff;
    background: #0011ff;
    border-radius: 10px;
}
#togglers #minimize, #togglers #maximize, #togglers #close {
    width: 33.33%;
    float: left;
    height: 100%;
    cursor: pointer;
    transition: all ease-in-out .25s;
    margin-top: 6px;
}
#showTitle {
    display: block;
    float: left;
    height: 100%;
    max-width: 30%;
    padding-left: .5em;
    color: aqua;
}
.penTools {
    margin: auto;
}
.drawingColors {
    display: flex;
}
.colorCircle {
    cursor: pointer;
    border: 1px solid black;
    width: 25px;
    height: 25px;
    margin-left: 5px;
}
.board {
    margin: auto;
}
.penSize {
    font-size: 15px;
}
.colorCircle:nth-child(2) {
    background-color: #f44336;
}
.colorCircle:nth-child(3) {
    background-color: #ff5722;
}
.colorCircle:nth-child(4) {
    background-color: #ff9800;
}
.colorCircle:nth-child(5) {
    background-color: #ffc107;
}
.colorCircle:nth-child(6) {
    background-color: #ffeb3b;
}
.colorCircle:nth-child(7) {
    background-color: #f0e68c;
}
.colorCircle:nth-child(8) {
    background-color: #cddc39;
}
.colorCircle:nth-child(9) {
    background-color: #8bc34a;
}
.colorCircle:nth-child(10) {
    background-color: #4caf50;
}
.colorCircle:nth-child(11) {
    background-color: #009688;
}
.colorCircle:nth-child(12) {
    background-color: aqua;
}
.colorCircle:nth-child(13) {
    background-color: #87ceeb;
}
.colorCircle:nth-child(14) {
    background-color: #00bcd4;
}
.colorCircle:nth-child(15) {
    background-color: #2196f3;
}
.colorCircle:nth-child(16) {
    background-color: #0000ff;
}
.colorCircle:nth-child(17) {
    background-color: #004466;
}
.colorCircle:nth-child(18) {
    background-color: #3f51b5;
}
.colorCircle:nth-child(19) {
    background-color: #673ab7;
}
.colorCircle:nth-child(20) {
    background-color: #9900e6;
}
.colorCircle:nth-child(21) {
    background-color: #9c27b0;
}
.colorCircle:nth-child(22) {
    background-color: fuchsia;
}
.colorCircle:nth-child(23) {
    background-color: #e91e63;
}
.colorCircle:nth-child(24) {
    background-color: #994d00;
}
.colorCircle:nth-child(25) {
    background-color: #ffcc99;
}
.colorCircle:nth-child(26) {
    background-color: #c2c2c2;
}
.colorCircle:nth-child(27) {
    background-color: #607d8b;
}
.colorCircle:nth-child(28) {
    background-color: #616161;
}
.colorCircle:nth-child(29) {
    background-color: white;
}
.colorCircle:nth-child(30) {
    background-color: black;
}
</style>
<nav id="navBar">
    <div id="showTitle" style="margin-top:3px"><b>Splashy Studio 1.0</b></div>
    <div id="togglers">
        <div id="minimize" title="Minimize" onclick="window.resizeTo(1300,725)">-</div>
        <div id="maximize" title="Maximize" onclick="window.resizeTo(2020,2020)">+</div>
        <div id="close" onclick="window.close()" title="Close">&times;</div>
    </div>
</nav><br><br>
<div id="penTools" class="penTools">
    <div id="drawingColors" class="drawingColors"></div>
    <button class="colorCircle" data-color="red" onclick="selectColor(this)" title="Red"></button>
    <button class="colorCircle" data-color="deep-orange" onclick="selectColor(this)" title="Deep orange"></button>
    <button class="colorCircle" data-color="orange" onclick="selectColor(this)" title="Orange"></button>
    <button class="colorCircle" data-color="amber" onclick="selectColor(this)" title="Amber"></button>
    <button class="colorCircle" data-color="yellow" onclick="selectColor(this)" title="Yellow"></button><br>
    <button class="colorCircle" data-color="khaki-green" onclick="selectColor(this)" title="Khaki green"></button>
    <button class="colorCircle" data-color="lime-green" onclick="selectColor(this)" title="Lime green"></button>
    <button class="colorCircle" data-color="green" onclick="selectColor(this)" title="Green"></button>
    <button class="colorCircle" data-color="medium-spring-green" onclick="selectColor(this)" title="Medium spring green"></button>
    <button class="colorCircle" data-color="cyan" onclick="selectColor(this)" title="Cyan"></button><br>
    <button class="colorCircle" data-color="teal" onclick="selectColor(this)" title="Teal"></button>
    <button class="colorCircle" data-color="cornflower" onclick="selectColor(this)" title="Cornflower"></button>
    <button class="colorCircle" data-color="blue" onclick="selectColor(this)" title="Blue"></button>
    <button class="colorCircle" data-color="aqua" onclick="selectColor(this)" title="Aqua"></button>
    <button class="colorCircle" data-color="indigo" onclick="selectColor(this)" title="Indigo"></button><br>
    <button class="colorCircle" data-color="purple" onclick="selectColor(this)" title="Purple"></button>
    <button class="colorCircle" data-color="violet" onclick="selectColor(this)" title="Violet"></button>
    <button class="colorCircle" data-color="pink" onclick="selectColor(this)" title="Pink"></button>
    <button class="colorCircle" data-color="flamingo" onclick="selectColor(this)" title="Flamingo"></button>
    <button class="colorCircle" data-color="brown" onclick="selectColor(this)" title="Brown"></button><br>
    <button class="colorCircle" data-color="grey" onclick="selectColor(this)" title="Grey"></button>
    <button class="colorCircle" data-color="blue-grey" onclick="selectColor(this)" title="Blue grey"></button>
    <button class="colorCircle" data-color="dark-grey" onclick="selectColor(this)" title="Dark grey"></button>
    <button class="colorCircle" data-color="white" onclick="selectColor(this)" title="White"></button>
    <button class="colorCircle" data-color="black" onclick="selectColor(this)" title="Black"></button>
</div><br>
<div id="favoritesContainer">
    <label for="favoriteColor">Favorite Color</label>
    <input type="color" name="favcolor" id="favcolor" value="#ffffff" onchange="favoriteColor(this)" style="cursor:help" title="Choose your favorite color">
</div><br>
<div id="penSize" class="penSize">
    <label for="penSize"><i class="fa fa-pencil"></i> Pen Size</label>
    <input type="range" name="penSize" id="penSize" value="10" step="1" min="1" max="100" onchange="penSizeChange(this.value)" style="cursor:move" title="Choose your pen size">
</div><br>
<a style="cursor:pointer;color:white;text-decoration:none;background:cornflowerblue;border-radius:10px;" download="myPainting.png">&nbsp;Save & Download&nbsp;</a>
<a style="cursor:pointer;color:white;text-decoration:none;margin-left:10px;background:cornflowerblue;border-radius:10px" onclick="askIfYouWantToClear()">&nbsp;Clear Canvas&nbsp;</a><br><br>
<div class="board">
    <canvas width="500" height="500" style="background:white"></canvas>
</div>
<script>
const colorCircle = document.querySelectorAll(".color-circle");
let penSize = 10;
let isDrawing;
let x;
let y;
var canvas = document.querySelector("canvas");
c = canvas.getContext("2d");
canvas.addEventListener("mousedown", (e) => {
    isDrawing = true;
    x = e.offsetX;
    y = e.offsetY;
});
canvas.addEventListener("mouseup", () => {
    isDrawing = false;
    x = undefined;
    y = undefined;
});
canvas.addEventListener('mousemove', (event) => {
    draw(event.offsetX, event.offsetY);
});
c.fillStyle = "red";
c.strokeStyle = c.fillStyle;
function draw(x2, y2) {
    if(isDrawing) {
        c.beginPath();
        c.arc(x2, y2, penSize, 0, Math.PI * 2);
        c.closePath();
        c.fill();
    }
    drawLine(x, y, x2, y2);
}
function drawLine(x, y, x2, y2) {
    c.beginPath();
    c.moveTo(x1, y1);
    c.lineTo(x2, y2);
    c.strokeStyle = c.fillStyle;
    c.lineWidth = penSize * 3;
    c.stroke();
}
const selectColor = (elem) => {
    removeActiveCircleColor();
    c.fillStyle = elem.getAttribute("data-color");
    elem.classList.add("active");
};
const removeActiveCircleColor = () => {
    colorCircle.forEach((circle) => {
        circle.classList.remove("active");
    });
};
function penSizeChange(pensize) {
    penSize = pensize;
}
const favoriteColor = (elem) => {
    removeActiveCircleColor();
    c.fillStyle = elem.value;
};
document.querySelector("a").addEventListener('click', (event) => event.target.href = canvas.toDataURL());
function askIfYouWantToClear() {
    alert("Are you sure you want to erase all your hard work and restart?");
    window.location = 'index.html' + window.location.hash;
}
</script>